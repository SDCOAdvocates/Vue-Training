<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Routing | Vue.js in depth</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="Vue.js training">
    <link rel="preload" href="/vuejs-training/assets/css/0.styles.12430312.css" as="style"><link rel="preload" href="/vuejs-training/assets/js/app.1f2ec0db.js" as="script"><link rel="preload" href="/vuejs-training/assets/js/2.e1ee292e.js" as="script"><link rel="preload" href="/vuejs-training/assets/js/33.057eaaad.js" as="script"><link rel="prefetch" href="/vuejs-training/assets/js/10.b012972f.js"><link rel="prefetch" href="/vuejs-training/assets/js/11.5baf958e.js"><link rel="prefetch" href="/vuejs-training/assets/js/12.3e89245e.js"><link rel="prefetch" href="/vuejs-training/assets/js/13.489799d5.js"><link rel="prefetch" href="/vuejs-training/assets/js/14.dfb9fd1e.js"><link rel="prefetch" href="/vuejs-training/assets/js/15.5cdc8756.js"><link rel="prefetch" href="/vuejs-training/assets/js/16.0e42bcf2.js"><link rel="prefetch" href="/vuejs-training/assets/js/17.9adf0e97.js"><link rel="prefetch" href="/vuejs-training/assets/js/18.a8e32e1e.js"><link rel="prefetch" href="/vuejs-training/assets/js/19.c490013c.js"><link rel="prefetch" href="/vuejs-training/assets/js/20.61f503a2.js"><link rel="prefetch" href="/vuejs-training/assets/js/21.6842c89f.js"><link rel="prefetch" href="/vuejs-training/assets/js/22.2a5f8dda.js"><link rel="prefetch" href="/vuejs-training/assets/js/23.fe31ee5c.js"><link rel="prefetch" href="/vuejs-training/assets/js/24.7cba55d5.js"><link rel="prefetch" href="/vuejs-training/assets/js/25.2730917e.js"><link rel="prefetch" href="/vuejs-training/assets/js/26.eaf326ab.js"><link rel="prefetch" href="/vuejs-training/assets/js/27.2d4d0781.js"><link rel="prefetch" href="/vuejs-training/assets/js/28.73a722c9.js"><link rel="prefetch" href="/vuejs-training/assets/js/29.e21f0c46.js"><link rel="prefetch" href="/vuejs-training/assets/js/3.146fd214.js"><link rel="prefetch" href="/vuejs-training/assets/js/30.6e773b2f.js"><link rel="prefetch" href="/vuejs-training/assets/js/31.28c3eca3.js"><link rel="prefetch" href="/vuejs-training/assets/js/32.13ed4f5f.js"><link rel="prefetch" href="/vuejs-training/assets/js/34.5c1c38bd.js"><link rel="prefetch" href="/vuejs-training/assets/js/4.51f90fb8.js"><link rel="prefetch" href="/vuejs-training/assets/js/5.4a8e7677.js"><link rel="prefetch" href="/vuejs-training/assets/js/6.71f975b1.js"><link rel="prefetch" href="/vuejs-training/assets/js/7.08c4fc6c.js"><link rel="prefetch" href="/vuejs-training/assets/js/8.8189065e.js"><link rel="prefetch" href="/vuejs-training/assets/js/9.e62db570.js">
    <link rel="stylesheet" href="/vuejs-training/assets/css/0.styles.12430312.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuejs-training/" class="home-link router-link-active"><!----> <span class="site-name">Vue.js in depth</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Language</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuejs-training/routing/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/vuejs-training/fr/" class="nav-link">
  Français
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Language</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuejs-training/routing/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/vuejs-training/fr/" class="nav-link">
  Français
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vuejs-training/" aria-current="page" class="sidebar-link">Welcome</a></li><li><a href="/vuejs-training/presentation/" class="sidebar-link">Presentation of Vue.js</a></li><li><a href="/vuejs-training/tooling/" class="sidebar-link">Tooling</a></li><li><a href="/vuejs-training/views/" class="sidebar-link">Vue files</a></li><li><a href="/vuejs-training/directives/" class="sidebar-link">Directives</a></li><li><a href="/vuejs-training/components/" class="sidebar-link">Components</a></li><li><a href="/vuejs-training/reactivity/" class="sidebar-link">Reactivity</a></li><li><a href="/vuejs-training/state/" class="sidebar-link">State management</a></li><li><a href="/vuejs-training/routing/" aria-current="page" class="active sidebar-link">Routing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuejs-training/routing/#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/vuejs-training/routing/#router-configuration" class="sidebar-link">Router Configuration</a></li><li class="sidebar-sub-header"><a href="/vuejs-training/routing/#navigation-and-router-link" class="sidebar-link">Navigation and router-link</a></li><li class="sidebar-sub-header"><a href="/vuejs-training/routing/#practical-work-implementing-the-router" class="sidebar-link">Practical Work: Implementing the router</a></li></ul></li><li><a href="/vuejs-training/http/" class="sidebar-link">HTTP Requests</a></li><li><a href="/vuejs-training/tests/" class="sidebar-link">Unit tests</a></li><li><a href="/vuejs-training/reusability/" class="sidebar-link">Reusability and composition</a></li><li><a href="/vuejs-training/ecosystem/" class="sidebar-link">Vue Ecosystem</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="routing"><a href="#routing" class="header-anchor">#</a> Routing</h1> <p>Vue applications are mostly Single Page Applications (SPA). The server always serves a single HTML page, and navigation between the application pages/sections is managed on the client side in JavaScript. This approach allows smoother transitions between pages, and reduces the number of server calls needed to navigate between pages. This is essential for Progressive Web Apps or web applications that want to have offline features.</p> <p>The routing of a SPA is therefore managed on the client side, and the Vue team provides a library for this purpose: <code>vue-router</code>. This router allows you to associate routes (URLs) with Vue components, and offers many features:</p> <ul><li>Routes tree configuration</li> <li>Modular configuration based on components</li> <li>Dynamic parameters handling: path, query, wildcards...</li> <li>Integration with Vue transitions system</li> <li>Two modes:
<ul><li>by <code>hash</code> (mywebsite.com/<strong>#</strong>/page1)</li> <li>by <code>history</code> (handle browser history in JS) with auto-fallback for IE</li></ul></li></ul> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <p>If you did not install it during initial project configuration with Vue-CLI, you can add vue-router now with the <code>vue add router</code> command.</p> <p>The <code>main.js</code> file will be modified to declare this new router in the application:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">&quot;./router&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
  store<span class="token punctuation">,</span>
  router
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="router-configuration"><a href="#router-configuration" class="header-anchor">#</a> Router Configuration</h2> <p>The router is created by taking a list of routes as parameters. Each route associates a URL pattern with a certain component. When the page loads, or when the URL changes, the router will resolve which route is associated with this new URL.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/** src/router.js **/</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">&quot;@/components/HelloWorld&quot;</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">&quot;/hello/:name&quot;</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> HelloWorld
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Once the route resolution is complete, a component has been associated with the current URL. This component is then injected in place of the <code>&lt;router-view /&gt;</code> element. This element is usually placed in the root component <code>App.vue</code>. The elements around <code>&lt;router-view /&gt;</code> form the layout structuring your application: a header, a navigation bar, a footer etc.</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>My website<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>Made with Vue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="navigation-and-router-link"><a href="#navigation-and-router-link" class="header-anchor">#</a> Navigation and router-link</h2> <p>Vue-router includes a globally declared <code>&lt;router-link&gt;</code> component, which can substitute <code>&lt;a&gt;</code> tags for any internal navigation done via this router.</p> <p>The advantage of this component over traditional <code>&lt;a&gt;</code> tags is that the links will always match your configuration (hash or history) and can be static or dynamically generated by route names and parameter lists:</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Homepage<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ name: <span class="token punctuation">'</span>hello<span class="token punctuation">'</span>, params: { name: <span class="token punctuation">'</span>John<span class="token punctuation">'</span> } }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Dynamic link
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Vue-router also brings methods to all components to programmatically navigate between pages:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// go to previous page</span>

<span class="token keyword">let</span> nextId <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// get URL path param</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/article/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>nextId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// navigate to a new page by URL</span>
</code></pre></div><h2 id="practical-work-implementing-the-router"><a href="#practical-work-implementing-the-router" class="header-anchor">#</a> Practical Work: Implementing the router</h2> <ol><li>If not already done, install vue-router on your project with the <code>vue add router</code> command. Then open the <code>src/router.js</code> file to see how the routes are declared.</li></ol> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>Warning , the content of <code>App.vue</code> will be partially overwritten with this command, you should save its contents before running the command!</p></div> <ol start="2"><li>Add a <code>/login</code> route linked to the<code>LoginForm</code> view and a <code>/search</code> route linked to <code>SearchFilm</code>.</li></ol> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>By convention, we call the components linked to routes <em>views</em>, and we usually place them in the folder <code>src/views</code> rather than<code>src/components</code>.</p></div> <ol start="3"><li><p>Using <a href="https://router.vuejs.org/api/" target="_blank" rel="noopener noreferrer">vue-router<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> documentation, replace the switch between <code>LoginForm</code> and<code>SearchFilm</code> currently based on a <code>v-if</code> by a navigation from one route to another.</p></li> <li><p><strong>Bonus</strong>: Using vue-router <a href="https://router.vuejs.org/guide/advanced/navigation-guards.html" target="_blank" rel="noopener noreferrer">Navigation Guards<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> de vue-router, redirect the user who wants to access the film search page to <code>/login</code> if he is not authenticated.</p></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuejs-training/state/" class="prev">
        State management
      </a></span> <span class="next"><a href="/vuejs-training/http/">
        HTTP Requests
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vuejs-training/assets/js/app.1f2ec0db.js" defer></script><script src="/vuejs-training/assets/js/2.e1ee292e.js" defer></script><script src="/vuejs-training/assets/js/33.057eaaad.js" defer></script>
  </body>
</html>
