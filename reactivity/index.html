<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Reactivity | Vue.js in depth</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="Vue.js training">
    <link rel="preload" href="/vuejs-training/assets/css/0.styles.12430312.css" as="style"><link rel="preload" href="/vuejs-training/assets/js/app.1f2ec0db.js" as="script"><link rel="preload" href="/vuejs-training/assets/js/2.e1ee292e.js" as="script"><link rel="preload" href="/vuejs-training/assets/js/9.e62db570.js" as="script"><link rel="prefetch" href="/vuejs-training/assets/js/10.b012972f.js"><link rel="prefetch" href="/vuejs-training/assets/js/11.5baf958e.js"><link rel="prefetch" href="/vuejs-training/assets/js/12.3e89245e.js"><link rel="prefetch" href="/vuejs-training/assets/js/13.489799d5.js"><link rel="prefetch" href="/vuejs-training/assets/js/14.dfb9fd1e.js"><link rel="prefetch" href="/vuejs-training/assets/js/15.5cdc8756.js"><link rel="prefetch" href="/vuejs-training/assets/js/16.0e42bcf2.js"><link rel="prefetch" href="/vuejs-training/assets/js/17.9adf0e97.js"><link rel="prefetch" href="/vuejs-training/assets/js/18.a8e32e1e.js"><link rel="prefetch" href="/vuejs-training/assets/js/19.c490013c.js"><link rel="prefetch" href="/vuejs-training/assets/js/20.61f503a2.js"><link rel="prefetch" href="/vuejs-training/assets/js/21.6842c89f.js"><link rel="prefetch" href="/vuejs-training/assets/js/22.2a5f8dda.js"><link rel="prefetch" href="/vuejs-training/assets/js/23.fe31ee5c.js"><link rel="prefetch" href="/vuejs-training/assets/js/24.7cba55d5.js"><link rel="prefetch" href="/vuejs-training/assets/js/25.2730917e.js"><link rel="prefetch" href="/vuejs-training/assets/js/26.eaf326ab.js"><link rel="prefetch" href="/vuejs-training/assets/js/27.2d4d0781.js"><link rel="prefetch" href="/vuejs-training/assets/js/28.73a722c9.js"><link rel="prefetch" href="/vuejs-training/assets/js/29.e21f0c46.js"><link rel="prefetch" href="/vuejs-training/assets/js/3.146fd214.js"><link rel="prefetch" href="/vuejs-training/assets/js/30.6e773b2f.js"><link rel="prefetch" href="/vuejs-training/assets/js/31.28c3eca3.js"><link rel="prefetch" href="/vuejs-training/assets/js/32.13ed4f5f.js"><link rel="prefetch" href="/vuejs-training/assets/js/33.057eaaad.js"><link rel="prefetch" href="/vuejs-training/assets/js/34.5c1c38bd.js"><link rel="prefetch" href="/vuejs-training/assets/js/4.51f90fb8.js"><link rel="prefetch" href="/vuejs-training/assets/js/5.4a8e7677.js"><link rel="prefetch" href="/vuejs-training/assets/js/6.71f975b1.js"><link rel="prefetch" href="/vuejs-training/assets/js/7.08c4fc6c.js"><link rel="prefetch" href="/vuejs-training/assets/js/8.8189065e.js">
    <link rel="stylesheet" href="/vuejs-training/assets/css/0.styles.12430312.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuejs-training/" class="home-link router-link-active"><!----> <span class="site-name">Vue.js in depth</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Language</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuejs-training/reactivity/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/vuejs-training/fr/" class="nav-link">
  Français
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Language</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuejs-training/reactivity/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/vuejs-training/fr/" class="nav-link">
  Français
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vuejs-training/" aria-current="page" class="sidebar-link">Welcome</a></li><li><a href="/vuejs-training/presentation/" class="sidebar-link">Presentation of Vue.js</a></li><li><a href="/vuejs-training/tooling/" class="sidebar-link">Tooling</a></li><li><a href="/vuejs-training/views/" class="sidebar-link">Vue files</a></li><li><a href="/vuejs-training/directives/" class="sidebar-link">Directives</a></li><li><a href="/vuejs-training/components/" class="sidebar-link">Components</a></li><li><a href="/vuejs-training/reactivity/" aria-current="page" class="active sidebar-link">Reactivity</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuejs-training/reactivity/#getters-setters-ecmascript-5" class="sidebar-link">Getters / setters (ECMAScript 5)</a></li><li class="sidebar-sub-header"><a href="/vuejs-training/reactivity/#proxies-ecmascript-6-aka-es2015" class="sidebar-link">Proxies (ECMAScript 6 aka ES2015)</a></li><li class="sidebar-sub-header"><a href="/vuejs-training/reactivity/#details-of-vue-reactivity-system" class="sidebar-link">Details of Vue reactivity system</a></li></ul></li><li><a href="/vuejs-training/state/" class="sidebar-link">State management</a></li><li><a href="/vuejs-training/routing/" class="sidebar-link">Routing</a></li><li><a href="/vuejs-training/http/" class="sidebar-link">HTTP Requests</a></li><li><a href="/vuejs-training/tests/" class="sidebar-link">Unit tests</a></li><li><a href="/vuejs-training/reusability/" class="sidebar-link">Reusability and composition</a></li><li><a href="/vuejs-training/ecosystem/" class="sidebar-link">Vue Ecosystem</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="reactivity"><a href="#reactivity" class="header-anchor">#</a> Reactivity</h1> <p>Reactivity is the mechanism that allows the framework to detect when data used on the page is changed (<em>mutated</em>), and to update the page optimally to reflect these changes. It is therefore a crucial mechanism for any web framework, so we are going to analyze it to understand its strengths and limitations.</p> <p>Vue provides automatic reactivity. That means it is not necessary for the developer to manually trigger the view updates after mutating data. This reactivity is based on 2 features of JavaScript: <strong>getters / setters</strong> for Vue 2 and <strong>Proxies</strong> for Vue 3.</p> <h2 id="getters-setters-ecmascript-5"><a href="#getters-setters-ecmascript-5" class="header-anchor">#</a> Getters / setters (ECMAScript 5)</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&quot;joe&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;read access to property&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;write access to property&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    name <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>In JavaScript, the properties of an object can be declared with a getter and a setter, which are functions executed at read and write access to this property. Vue.js uses them by redefining getters / setters for all data and props of the components, in order to identify the consumers of these data as well as the moment when they are updated.</p> <p>The main limitation of getters / setters is that you must initially know the name of all the variables to be able to assign them a getter / setter. This is why <strong>it is imperative to declare in data or props all the variables used by a component if you want them to be reactive</strong>.</p> <p>In special cases where it is not possible to declare a variable in advance, for example an <code>Array</code> of indefinite length or a <code>Map</code>, Vue provides the<code>Vue.set</code> or <code>vm.$set</code> methods to assign a value to a property while ensuring reactivity.</p> <p><img src="/vuejs-training/assets/img/getters-setters.db0a17f9.jpg" alt="Reactivity principle based on getters/setters"></p> <h2 id="proxies-ecmascript-6-aka-es2015"><a href="#proxies-ecmascript-6-aka-es2015" class="header-anchor">#</a> Proxies (ECMAScript 6 aka ES2015)</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> original_user <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;joe&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>original_user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">read access to property </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">write access to property </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> with value </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Proxies are a recent feature of JavaScript that appeared with the ES2015 specification. They allow you to get away from all the limitations of getters / setters, giving complete control over all operations used to manipulate an object. Since they are not supported by older browsers like Internet Explorer, they are only fully introduced in Vue 3.0. This resolves most of the current limitations of reactivity in Vue 2, at the cost of dropping support for Internet Explorer.</p> <h2 id="details-of-vue-reactivity-system"><a href="#details-of-vue-reactivity-system" class="header-anchor">#</a> Details of Vue reactivity system</h2> <p><img src="/vuejs-training/assets/img/vue-reactivity.721746ba.jpg" alt="Vue reactivity system diagram"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuejs-training/components/" class="prev">
        Components
      </a></span> <span class="next"><a href="/vuejs-training/state/">
        State management
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vuejs-training/assets/js/app.1f2ec0db.js" defer></script><script src="/vuejs-training/assets/js/2.e1ee292e.js" defer></script><script src="/vuejs-training/assets/js/9.e62db570.js" defer></script>
  </body>
</html>
